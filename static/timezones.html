<html>
<head>
<style>
.currentTime {
	position: absolute;
	left: 50%;
	top: 0px;
	
	width: 1px;
	height: 200px;
	background-color: red;
}

.timelineContainer {
	position: relative;

	width:100%;
	height: 1em;
	/* background-color: lightgrey; */ 
}

.tickContainer {
	position: absolute;
	
	text-align: center;
	
	width: 1px;
	height: 1em;
	/* background-color:green; */
}

.tick {
	position: absolute;
	left: -2em;
	
	width: 4em;
	height: 1em;
	
	text-align: center;
}

.otherDay {
	color: grey;
}

</style>
</head>
<body id='body'>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>

<script type="text/javascript">
	function formatHour(date) {
		var hour = date.getHours();
		
		if (hour == 0) {
			return '12am';
		}
		if (hour < 12) {
			return hour + 'am';
		}
		if (hour == 12) {
			return '12pm';
		}
		return (hour - 12) + 'pm';
	}

	function makeSlider(curDate) {
		var container = document.createElement('div');
		container.setAttribute('class', 'timelineContainer');

		function timeToP(d) {
			return 100 * ((d.valueOf() - curDate.valueOf()) / 24 / 60 / 60 / 1000 + 0.5);
		}
		
		function makeTick(p, date) {
			var tickContainer = document.createElement('div');
			tickContainer.setAttribute('class', 'tickContainer');
			tickContainer.style.left = p + '%';
			tickContainer.style.top = '0%';

			var tick = document.createElement('div');
			tick.setAttribute('class', 'tick');
			tick.innerHTML = formatHour(date);
			tickContainer.appendChild(tick);

			if (curDate.getDate() == date.getDate()) {
				$(tick).addClass('today');
			} else {
				$(tick).addClass('otherDay');
			}

			return tickContainer;
		}
		
		{
			var d = new Date();
			d.setTime(curDate.valueOf());
			d.setMinutes(0);
			d.setSeconds(0);

			var p = timeToP(d);
			while (p > 0) {				
				container.appendChild(makeTick(p, d));
				d.setHours(d.getHours() - 1);
				p = timeToP(d);
				console.debug(d, p);
			}
		}
		
		{
			var d = new Date();
			d.setTime(curDate.valueOf());
			d.setMinutes(0);
			d.setSeconds(0);

			var p = timeToP(d);
			while (p < 100) {				
				container.appendChild(makeTick(p, d));
				d.setHours(d.getHours() + 1);
				p = timeToP(d);
				console.debug(d, p);
			}
		}

		return container;
	};

	var body = document.getElementById('body');
	
	var d = new Date();
	body.appendChild(makeSlider(d));

	d.setHours(d.getHours() + 1);
	body.appendChild(makeSlider(d));

	var currentTime = document.createElement('div');
	currentTime.setAttribute('class', 'currentTime');
	body.appendChild(currentTime);

</script>

</body>
</html>